"use strict";(self["webpackChunkvue_shopping"]=self["webpackChunkvue_shopping"]||[]).push([[933],{2933:function(t,s,e){e.r(s),e.d(s,{default:function(){return l}});var i=function(){var t=this,s=t._self._c;return s("div",[s("div",{staticClass:"searchBox"},[s("van-nav-bar",{attrs:{title:"搜索页","left-arrow":""},on:{"click-left":function(s){return t.$router.back()}}}),s("van-search",{attrs:{"show-action":"",shape:"round",placeholder:"请输入搜索关键词"},on:{search:t.onSearch},scopedSlots:t._u([{key:"action",fn:function(){return[s("div",{staticClass:"search-button",on:{click:t.onSearch}},[t._v("搜索")])]},proxy:!0}]),model:{value:t.value,callback:function(s){t.value=s},expression:"value"}}),t.history.length>0?s("div",[s("div",{staticClass:"nearSerach"},[s("span",[t._v("最近搜索")]),s("van-icon",{staticClass:"delete-button",attrs:{name:"delete-o"},on:{click:t.clearHistory}})],1),s("div",{staticClass:"search-list"},[s("ul",t._l(t.history,(function(e){return s("li",{key:e,on:{click:function(s){return t.refreshHistory(e)}}},[s("span",[t._v(" "+t._s(e))])])})),0)])]):t._e()],1)])},r=[],a=(e(560),{name:"SearchIndex",data(){return{value:"",history:[]}},created(){this.history=localStorage.getItem("history")?JSON.parse(localStorage.getItem("history")):[]},methods:{clearHistory(){this.history=[],localStorage.removeItem("history")},onSearch(){-1===this.history.indexOf(this.value)?(this.$router.push(`/searchlist?searchName=${this.value}`),this.history.unshift(this.value),localStorage.setItem("history",JSON.stringify(this.history))):(this.history.splice(this.history.indexOf(this.value),1),this.history.unshift(this.value),localStorage.setItem("history",JSON.stringify(this.history)),this.$router.push(`/searchlist?searchName=${this.value}`))},refreshHistory(t){this.history.splice(this.history.indexOf(t),1),this.history.unshift(t),localStorage.setItem("history",JSON.stringify(this.history)),this.$router.push(`/searchlist?searchName=${t}`)}}}),h=a,o=e(1001),n=(0,o.Z)(h,i,r,!1,null,null,null),l=n.exports}}]);
//# sourceMappingURL=933.fab61d47.js.map