"use strict";(self["webpackChunkvue_shopping"]=self["webpackChunkvue_shopping"]||[]).push([[866],{866:function(t,s,a){a.r(s),a.d(s,{default:function(){return m}});a(560);var n=function(){var t=this,s=t._self._c;return s("div",{staticClass:"product-detail"},[s("van-swipe",{attrs:{autoplay:3e3},on:{change:t.onChange},scopedSlots:t._u([{key:"indicator",fn:function(){return[s("div",{staticClass:"custom-indicator"},[t._v(t._s(t.current+1)+" / "+t._s(t.images.length))])]},proxy:!0}])},t._l(t.images,(function(t,a){return s("van-swipe-item",{key:a},[s("img",{attrs:{src:t.external_url}})])})),1),s("div",{staticClass:"info"},[s("div",{staticClass:"title"},[s("div",{staticClass:"price"},[s("span",{staticClass:"now"},[t._v("￥"+t._s(t.detail.goods_price_min))]),s("span",{staticClass:"oldprice"},[t._v("￥"+t._s(t.detail.goods_price_max))])]),s("div",{staticClass:"sellcount"},[t._v("已售 "+t._s(t.detail.goods_sales)+" 件")])]),s("div",{staticClass:"msg text-ellipsis-2"},[t._v(" "+t._s(t.detail.goods_name)+" ")]),s("div",{staticClass:"service"},[s("div",{staticClass:"left-words"},[s("span",[s("van-icon",{attrs:{name:"passed"}}),t._v("七天无理由退货")],1),s("span",[s("van-icon",{attrs:{name:"passed"}}),t._v("48小时发货")],1)]),s("div",{staticClass:"right-icon"},[s("van-icon",{attrs:{name:"arrow"}})],1)])]),s("div",{staticClass:"comment"},[s("div",{staticClass:"comment-title"},[s("div",{staticClass:"left",on:{click:t.noWorlks}},[t._v("商品评价 ("+t._s(t.total)+"条)")]),s("div",{staticClass:"right",on:{click:t.noWorlks}},[t._v("查看更多 "),s("van-icon",{attrs:{name:"arrow"}})],1)]),s("div",{staticClass:"comment-list"},t._l(t.commentList,(function(a){return s("div",{key:a.comment_id,staticClass:"comment-item"},[s("div",{staticClass:"top"},[s("img",{attrs:{src:a.user.avatar_url||t.defaultImg,alt:""}}),s("div",{staticClass:"name"},[t._v(t._s(a.user.nick_name))]),s("van-rate",{attrs:{size:16,value:a.score/2,color:"#ffd21e","void-icon":"star","void-color":"#eee"}})],1),s("div",{staticClass:"content"},[t._v(" "+t._s(a.content)+" ")]),s("div",{staticClass:"time"},[t._v(" "+t._s(a.create_time)+" ")])])})),0)]),s("div",{staticClass:"desc",domProps:{innerHTML:t._s(t.detail.content)}}),s("div",{staticClass:"footer"},[s("div",{staticClass:"icon-home",on:{click:function(s){return t.$router.push("/")}}},[s("van-icon",{attrs:{name:"wap-home-o"}}),s("span",[t._v("首页")])],1),s("div",{staticClass:"icon-cart",on:{click:function(s){return t.$router.push("/cart")}}},[t.cartTotal>0?s("span",{staticClass:"num"},[t._v(t._s(t.cartTotal))]):t._e(),s("van-icon",{attrs:{name:"shopping-cart-o"}}),s("span",[t._v("购物车")])],1),s("div",{staticClass:"btn-add",on:{click:t.addFn}},[t._v("加入购物车")]),s("div",{staticClass:"btn-buy",on:{click:t.buyNow}},[t._v("立刻购买")])])],1)},i=[],o=(a(9491),a(6450)),e=a(1787),r="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkBAMAAACCzIhnAAAAKlBMVEXp6en////9/f3o6Ojw8PDj4+Pl5eXh4eHs7Oz7+/v09PTy8vL4+Pj29vY+GdZKAAADDElEQVRYw+3Wv0sbYRjA8ZNwp+Li89YhUQO+b6F0PDTx6NBBtHXpcBDPRkvhakiC1CGghqIIyRCdOqQlHdouUoqlm1Co0KUZhK4tFPvn9MnF5n6+P4R2KT6EhJe8n3y5ewOJduXJXZNr8l+Tecd5uFu6CinbS18+LR06pjJxxl4ATuZD2anMaXMKxHkOl/P6LFVxCnJi3YXAvP34zZWR1A6E54aUVI8j5J4mIcZBRExLr8WKRk5cGdmHyFyYEqI3o2SqJiH5NkRHl5B9iE3HFBJjI07StpDoC3Ey7QrJfBviYwiJCwmzLCQ7SeRCSNaTyEtTQFKbSSTtishsIrEFxBi6Jn+FFAWk+iSR1PnEyHWTSObM5pJSG5KnxSWPgDMdk0ce88gMl6zzyE0uWRnsoWFyziUubiWMAiMM8AmdtwT4zL38fJcxRnAXw6EI+0sGBpfoTUJIbxfF6ZnL5aTNP/0DklSht1w+KVFK4xVY1vjkqEkSKtltAdH2IF6Bjisi1vd4BfSGiByukWiFjtvi35dKO1qBI01M8AZEKtmahKQ2wxVK07aEaCuRCj3XZKTSDl8L6FIyPESCFZisSYm2F76Wjisn5TZlgYrekJPWLPErdKKm8kfxGfgVODFVyHATBpXJbU2FpDYGdwzGi2rkzqBC064a2fIrSP5VZTZQsZVIa8i/Y1M1JTJ86p9LZrWhdpSB01c6SqtJ/ApM1RtSYmDErzB4b0uJc0qYXyEsUzUlpDoKNFgh9LZjCkn1KTAWqhD4umvyScrJUULDFTTvsMMhxu4YimiFUfhVLSSTvPsAUMQqhMKbw0ICGckXf3giVsEHZO6vxsiIVewC7kqsUAZksR4lerENjPAquCCLhTAxtrv4Lr+CT6Rlh4hzCpSKKozQrGUGiDUKjIkrjMBEvTEg+FXsfyJWiLfRm96LV+unGPy0B6R83NuI73qAeKq/9h4epjgZ6w/Rt8Db2EeBCq4DFdQztUuy2mWKA0d9oq8RVULTNY+UMaKcyfdIao+oE/rKRqIvsCtMtpT7DVEPKD7Ga13IAAAAAElFTkSuQmCC",c={name:"ProdetailIndex",data(){return{id:this.$route.params.id,images:[],current:0,detail:[],commentList:[],total:0,defaultImg:r,cartTotal:0,show:!1,mode:"",sku:{},goods:{}}},created(){this.getDatail(),this.getComments()},methods:{async getDatail(){const{data:{detail:t}}=await(0,e.Aw)(this.id);this.images=t.goods_images,this.detail=t,this.goods=t},async getComments(){const{data:{list:t,total:s}}=await(0,e.U3)(this.id,4);this.commentList=t,this.total=s},onChange(t){},addFn(){this.mode="加入购物车",this.show=!0,(0,o.Z)({message:"功能待开发",background:"orange",duration:2e3})},buyNow(){this.mode="立即购买",this.show=!0,(0,o.Z)({message:"功能待开发",background:"orange",duration:2e3})},noWorlks(){(0,o.Z)({message:"功能待开发",background:"orange",duration:2e3})}}},l=c,d=a(1001),u=(0,d.Z)(l,n,i,!1,null,"54c7720c",null),m=u.exports},6450:function(t,s,a){a.d(s,{Z:function(){return y}});var n=a(9299),i=a(6369),o=a(3915),e=a.n(o),r=a(7612),c=a(4771),l=a(7846),d=a(6811),u=(0,r.d)("notify"),m=u[0],v=u[1];function g(t,s,a,n){var i={color:s.color,background:s.background};return t(d.Z,e()([{attrs:{value:s.value,position:"top",overlay:!1,duration:.2,lockScroll:!1},style:i,class:[v([s.type]),s.className]},(0,c.ED)(n,!0)]),[(null==a.default?void 0:a.default())||s.message])}g.props=(0,n.Z)({},l.M,{color:String,message:[Number,String],duration:[Number,String],className:null,background:String,getContainer:[String,Function],type:{type:String,default:"danger"}});var p,C,f=m(g),h=a(3370);function k(t){return(0,h.Kn)(t)?t:{message:t}}function _(t){if(!h.sk)return C||(C=(0,c.LI)(f,{on:{click:function(t){C.onClick&&C.onClick(t)},close:function(){C.onClose&&C.onClose()},opened:function(){C.onOpened&&C.onOpened()}}})),t=(0,n.Z)({},_.currentOptions,k(t)),(0,n.Z)(C,t),clearTimeout(p),t.duration&&t.duration>0&&(p=setTimeout(_.clear,t.duration)),C}function A(){return{type:"danger",value:!0,message:"",color:void 0,background:void 0,duration:3e3,className:"",onClose:null,onClick:null,onOpened:null}}_.clear=function(){C&&(C.value=!1)},_.currentOptions=A(),_.setDefaultOptions=function(t){(0,n.Z)(_.currentOptions,t)},_.resetDefaultOptions=function(){_.currentOptions=A()},_.install=function(){i.ZP.use(f)},_.Component=f,i.ZP.prototype.$notify=_;var y=_},9491:function(t,s,a){a(1958),a(6196),a(3332),a(6742),a(2666)},1787:function(t,s,a){a.d(s,{Aw:function(){return o},Fs:function(){return i},U3:function(){return e}});var n=a(4471);const i=t=>{const{categoryId:s,goodsName:a,page:i}=t;return n.Z.get("/goods/list",{params:{categoryId:s,goodsName:a,page:i}})},o=t=>n.Z.get("/goods/detail",{params:{goodsId:t}}),e=(t,s)=>n.Z.get("/comment/listRows",{params:{goodsId:t,limit:s}})}}]);
//# sourceMappingURL=866.f42e17c6.js.map